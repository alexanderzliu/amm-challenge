[
  {
    "id": 1,
    "name": "AdaptiveDynamic v1",
    "parent_id": null,
    "date": "2026-02-10",
    "hypothesis": "Dual-signal volatility tracking (price EMA + trade size EMA) with additive fee adjustment outperforms fixed fees",
    "variables_changed": ["initial_design"],
    "verdict": "confirmed_but_superseded",
    "insights": [
      "Dynamic fees can beat vanilla baseline (~347 vs vanilla 250-350)",
      "Dual EMA signals dilute the stronger signal — net negative vs single signal",
      "Decay at 20% per trade may be too slow, keeping fees elevated unnecessarily",
      "Combined vol signal averaging two EMAs adds complexity without benefit"
    ],
    "params": {
      "base_fee_bps": 20,
      "initial_fee_bps": 25,
      "vol_scaling": "volSignal * 2/5",
      "spike_large_bps": 15,
      "spike_medium_bps": 8,
      "spike_threshold_large": 0.02,
      "spike_threshold_medium": 0.01,
      "price_ema_alpha": 0.05,
      "trade_size_ema_alpha": 0.10,
      "rise_speed": "1/2",
      "decay_speed": "1/5",
      "fee_floor_bps": 8,
      "symmetric": true
    },
    "results": {
      "edge": 346.87,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["vol-scaling", "dual-signal", "additive", "symmetric"]
  },
  {
    "id": 2,
    "name": "PropVol",
    "parent_id": 1,
    "date": "2026-02-10",
    "hypothesis": "Fee proportional to realized volatility (fee = k * sigma) with single EMA outperforms dual-signal additive approach",
    "variables_changed": ["fee_formula", "num_signals", "ema_alpha", "fee_floor", "spike_magnitudes", "rise_speed", "decay_speed", "vol_seed"],
    "verdict": "confirmed",
    "insights": [
      "Simpler single-signal approach (price EMA only) outperforms dual-signal by +8%",
      "Linear fee-proportional-to-sigma is theoretically grounded and works empirically",
      "Wider dynamic range (15-90 bps) helps: aggressive undercutting in calm + strong defense in volatile",
      "Faster EMA (alpha=0.1 vs 0.05) reacts to regime changes quicker",
      "Seeding EMA at 1e15 (~0.1%) gives stable 30 bps start instead of floor"
    ],
    "params": {
      "vol_multiplier": 3,
      "ema_alpha": 0.10,
      "fee_floor_bps": 15,
      "spike_large_bps": 20,
      "spike_medium_bps": 10,
      "spike_threshold_large": 0.02,
      "spike_threshold_medium": 0.01,
      "rise_speed": "2/3",
      "decay_speed": "1/4",
      "initial_ema_vol": "1e15",
      "symmetric": true
    },
    "results": {
      "edge": 374.54,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["vol-scaling", "single-ema", "proportional", "symmetric"]
  },
  {
    "id": 3,
    "name": "DirSkew",
    "parent_id": 2,
    "date": "2026-02-10",
    "hypothesis": "Directional asymmetric fees (protect trending side, discount safe side) outperform symmetric PropVol",
    "variables_changed": ["fee_symmetry", "direction_ema", "fee_floor"],
    "verdict": "rejected",
    "insights": [
      "Directional skew had zero meaningful impact (374.21 vs 374.54)",
      "GBM random walk has no persistent trends — direction EMA stays near neutral",
      "Router neutralizes asymmetric fee benefit: retail is 50/50 buy/sell",
      "Added complexity (5 slots vs 3) for no gain — confirms simpler is better"
    ],
    "params": {
      "vol_multiplier": 3,
      "ema_alpha": 0.10,
      "fee_floor_bps": 10,
      "spike_large_bps": 20,
      "spike_medium_bps": 10,
      "spike_threshold_large": 0.02,
      "spike_threshold_medium": 0.01,
      "rise_speed": "2/3",
      "decay_speed": "1/4",
      "initial_ema_vol": "1e15",
      "symmetric": false,
      "direction_ema_alpha": 0.05,
      "max_skew_bps": 12
    },
    "results": {
      "edge": 374.21,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["vol-scaling", "single-ema", "proportional", "asymmetric", "directional"]
  },
  {
    "id": 4,
    "name": "Fixed Fee Sweep",
    "parent_id": 2,
    "date": "2026-02-10",
    "hypothesis": "A well-chosen fixed fee may outperform PropVol dynamic fees — need to find optimal fixed point to establish baseline",
    "variables_changed": ["fee_type", "fee_level"],
    "verdict": "confirmed",
    "insights": [
      "Optimal fixed fee is ~75-80 bps (edge ~385 at 500 sims), NOT near vanilla's 30 bps",
      "PropVol at 374 was sitting in a suboptimal fee region (15-30 bps most of the time)",
      "Arb protection from high fees (quadratic benefit) far outweighs retail volume lost to vanilla",
      "Retail routing is proportional (not winner-take-all) — we still get some retail even at 80 bps",
      "Arb is independent per AMM — wider no-arb band from high fees directly reduces losses",
      "Fixed fee curve: 25→330, 30→352, 40→368, 50→380, 60→387, 70→391, 80→392, 90→390, 100→386"
    ],
    "params": {
      "fee_type": "fixed",
      "fee_bps_sweep": [25, 28, 30, 35, 40, 45, 50, 55, 60, 70, 80, 90, 100],
      "best_fixed_bps": 80,
      "symmetric": true
    },
    "results": {
      "edge": 384.97,
      "win_rate": null,
      "n_simulations": 500,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["fixed-fee", "baseline", "sweep", "paradigm-shift"]
  },
  {
    "id": 5,
    "name": "PropVol No Spikes",
    "parent_id": 2,
    "date": "2026-02-10",
    "hypothesis": "Trade-size spike logic in PropVol may hurt more than it helps — isolate its contribution",
    "variables_changed": ["spike_removal"],
    "verdict": "rejected",
    "insights": [
      "Spikes help slightly: 374.54 with spikes vs 370.55 without (+4 edge)",
      "Spike mechanism provides value even in the low-fee PropVol regime",
      "But both variants are far below optimal fixed 80 bps (385)"
    ],
    "params": {
      "vol_multiplier": 3,
      "ema_alpha": 0.10,
      "fee_floor_bps": 15,
      "spike_large_bps": 0,
      "spike_medium_bps": 0,
      "rise_speed": "2/3",
      "decay_speed": "1/4",
      "symmetric": true
    },
    "results": {
      "edge": 370.55,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["vol-scaling", "ablation", "no-spikes"]
  },
  {
    "id": 6,
    "name": "SpikeOnly80",
    "parent_id": 4,
    "date": "2026-02-10",
    "hypothesis": "Fixed 80 bps base with spike-up on large trades can beat pure fixed fee by adding arb protection when it matters most",
    "variables_changed": ["strategy_paradigm", "base_fee", "spike_mechanism"],
    "verdict": "confirmed",
    "insights": [
      "SpikeOnly80 (398.55) beats Fixed80 (385) by +14 edge — spikes add value on top of high base",
      "Paradigm shift: abandon vol-tracking EMA, use trade-size-only reactive spikes",
      "Large trades are predominantly arb — spiking fees after them protects against follow-up arbs",
      "Base fee insensitive in 70-80 bps range (70→399, 75→399, 80→399)"
    ],
    "params": {
      "base_fee_bps": 80,
      "spike_large_bps": 40,
      "spike_medium_bps": 20,
      "spike_threshold_large": 0.02,
      "spike_threshold_medium": 0.01,
      "rise_speed": "2/3",
      "decay_speed": "1/6",
      "symmetric": true
    },
    "results": {
      "edge": 398.55,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "high-base", "trade-size-reactive"]
  },
  {
    "id": 7,
    "name": "SpikeOnly75-4T",
    "parent_id": 6,
    "date": "2026-02-10",
    "hypothesis": "More spike tiers with larger magnitudes improve arb protection — bigger spikes = more edge",
    "variables_changed": ["num_tiers", "spike_magnitudes", "base_fee", "decay_speed"],
    "verdict": "confirmed",
    "insights": [
      "Multi-tier spikes (422) beat 2-tier (399) by +23 edge — granularity matters",
      "Bigger spike magnitudes help: +40/+20 bps → +300/+200/+150/+75/+25 bps",
      "Faster decay (1/4 vs 1/6) is better — spike should be short-lived",
      "Base 75 bps slightly better than 80 (both ~399 in 2-tier, 75 chosen for 4-tier)",
      "Progression: 2-tier +40/+20→399, 3-tier +200/+150/+75→417, 4-tier +300/+200/+150/+75/+25→422"
    ],
    "params": {
      "base_fee_bps": 75,
      "num_tiers": 5,
      "spike_tiers_bps": [25, 75, 150, 200, 300],
      "spike_thresholds": [0.005, 0.01, 0.02, 0.03, 0.05],
      "rise_speed": "2/3",
      "decay_speed": "1/4",
      "symmetric": true
    },
    "results": {
      "edge": 422.12,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "high-base", "multi-tier", "aggressive-spikes"]
  },
  {
    "id": 8,
    "name": "ContSpike75",
    "parent_id": 7,
    "date": "2026-02-10",
    "hypothesis": "Continuous spike proportional to trade size outperforms discrete tiers — eliminates arbitrary thresholds and provides smoother fee response",
    "variables_changed": ["spike_type", "spike_multiplier", "decay_speed"],
    "verdict": "confirmed",
    "insights": [
      "Continuous spike (434) beats multi-tier (422) by +12 edge — smoother is better",
      "Optimal spike multiplier ~1-1.25x: 0.5x→418, 0.75x→427, 1x→431, 1.25x→432, 1.5x→429",
      "Faster decay (1/3) beats slower (1/4→432, 1/8→424) — spikes should be short-lived",
      "Elegantly simple: spike = tradeRatio * 5/4, no threshold tuning needed",
      "Strategy is now just 3 params: base_fee, spike_mult, decay_speed"
    ],
    "params": {
      "base_fee_bps": 75,
      "spike_type": "continuous_linear",
      "spike_multiplier": 1.25,
      "rise_speed": "2/3",
      "decay_speed": "1/3",
      "symmetric": true
    },
    "results": {
      "edge": 434.01,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "high-base", "continuous"]
  },
  {
    "id": 9,
    "name": "LinQuadSpike",
    "parent_id": 8,
    "date": "2026-02-10",
    "hypothesis": "Hybrid linear+quadratic spike penalizes large trades superlinearly while still reacting to small trades — better than pure linear or pure quadratic",
    "variables_changed": ["spike_formula", "linear_coeff", "quad_coeff"],
    "verdict": "confirmed",
    "insights": [
      "Lin+quad (445) beats pure linear (434) and pure quadratic (427)",
      "Pure quadratic underreacts to small trades; pure linear underreacts to large trades",
      "Optimal coefficients: linear=0.75, quad=25 (q sweep: 15→441, 25→442, 50→438, 100→392)",
      "Linear coeff sweep: 0.5→443, 0.75→445, 1.0→442 — moderate linear + small quad is ideal"
    ],
    "params": {
      "base_fee_bps": 75,
      "spike_formula": "tradeRatio * 0.75 + tradeRatio^2 * 25",
      "linear_coeff": 0.75,
      "quad_coeff": 25,
      "rise_speed": "2/3",
      "decay_speed": "1/3",
      "symmetric": true
    },
    "results": {
      "edge": 444.60,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "lin-quad", "continuous"]
  },
  {
    "id": 10,
    "name": "LinQuad-LowBase",
    "parent_id": 9,
    "date": "2026-02-10",
    "hypothesis": "With strong lin+quad spikes handling arb protection, the optimal base fee drops below 75 bps — spikes substitute for high fixed base",
    "variables_changed": ["base_fee"],
    "verdict": "confirmed",
    "insights": [
      "Optimal base drops to 30-40 bps with lin+quad spikes (vs 75-80 for pure fixed)",
      "Base sweep: 20→456, 30→464, 35→464, 40→463, 50→461, 60→456, 75→445",
      "Spikes handle arb protection dynamically, so base can be low to capture more retail",
      "This reverses the exp 004 finding: with good-enough spikes, low base IS optimal",
      "Flat plateau at 30-40 bps — not very sensitive in that range"
    ],
    "params": {
      "base_fee_bps": 30,
      "spike_formula": "tradeRatio * 0.75 + tradeRatio^2 * 25",
      "linear_coeff": 0.75,
      "quad_coeff": 25,
      "rise_speed": "2/3",
      "decay_speed": "1/3",
      "symmetric": true
    },
    "results": {
      "edge": 463.82,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "lin-quad", "low-base", "base-sweep"]
  },
  {
    "id": 11,
    "name": "LinQuad-InstantRise",
    "parent_id": 10,
    "date": "2026-02-10",
    "hypothesis": "Instant fee rise (no smoothing upward) + slow decay maximizes arb protection — react instantly to threats, relax gradually",
    "variables_changed": ["rise_speed", "decay_speed"],
    "verdict": "confirmed",
    "insights": [
      "Instant rise (479) beats 9/10 rise (477) beats 3/4 rise (470) beats 2/3 rise (464)",
      "Decay sweep with instant rise: 1/3→464, 1/4→479, 1/5→479, 1/6→479, 1/10→466",
      "Optimal decay is 1/4 to 1/6 — not very sensitive in this range",
      "No smoothing at all (instant both ways) is terrible (396) — memory/persistence matters",
      "Asymmetric smoothing is key: instant up, slow down"
    ],
    "params": {
      "base_fee_bps": 30,
      "spike_formula": "tradeRatio * 0.75 + tradeRatio^2 * 25",
      "linear_coeff": 0.75,
      "quad_coeff": 25,
      "rise_speed": "instant",
      "decay_speed": "1/5",
      "symmetric": true
    },
    "results": {
      "edge": 479.46,
      "win_rate": null,
      "n_simulations": 100,
      "retail_volume_share": null
    },
    "sim_config": "baseline_default",
    "git_hash": null,
    "tags": ["spike-only", "lin-quad", "low-base", "instant-rise", "current-best"]
  }
]
